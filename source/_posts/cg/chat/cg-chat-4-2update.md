---
title: Blender 4.2.xアップデート時に混乱困惑しまくった話| CG雑談
date: 2024-10-15
tags: CG_Chat
categories: 3DCG
cover: img/covers/cg-chat-blender422.png
banner: 
    type: img
    bgurl: img/mainimages/sleeping.png
    bannerText: 
---
# アップデート作業してたら気付かず使っていた仕様が発覚

- 目次
  - [アップデート作業してたら気付かず使っていた仕様が発覚](#アップデート作業してたら気付かず使っていた仕様が発覚)
  - [じゃあ今回のバージョン以降はどうするの？](#じゃあ今回のバージョン以降はどうするの？)
  - [補足](#補足)
  - [参考資料](#参考資料)
  - [最後に](#最後に)

とある日、Blender 4.2への移行作業をしていた時にトラブル発生。
正直今回の出来事はほとんどの人には当てはらまないと思うので、雑談メインな感じでタグもCG雑談ということにしておきます。
　
事の流れを書く前に、前提として私はBlenderのアップデートを手動で行っています。
何がきっかけでそうやるようになったのか、昔の出来事なのではっきりとは覚えてはいませんが、何らかのトラブルが原因で手動でファイルを上書き、移動することでアップデートを重ねてきました。
具体的には、ConfigフォルダとAddonが入ったフォルダを新しいバージョンにコピペして動かしていました。
　
しかし、今回の4.2のバージョンフォルダーを開くと、ファイル構成が大きく変わっているわけではありませんか。
```
インストール先:\Blender Foundation\Blender 4.x\4.x
```

<div class="image">
  <div>
    <ul>
        <dd><img width="300" src="{% asset_path Image1.png %}" title="Image1" class="img-left"/></dd>
        <dd><img width="300" src="{% asset_path Image2.png %}" title="Image2" class="img-left"/></dd>
    </ul>
    <style>
        .image > div {
          ul {
            display: flex;
            justify-content: center;
            }
        }
    </style>
  </div>
</div>

今回の4.2でアドオンの導入や管理に変更が加えられたので、extentionsは置いといて、
**configフォルダが、ない！！**
　
configフォルダの行方を探すべく、我々は...と冗談を吐く余裕もないくらい当時は長引く予感がして若干萎え始めていました。
　
なんだかんだ情報を集め、友人にも相談した結果、とある事実が発覚。
　
**そもそもconfigフォルダがあるのがおかしい**
　
ずっと継ぎ足し継ぎ足し使ってきたBlenderのファイル構成が、いつのまにか我流なものに置き換わっていたらしい。
どうやら、4.1までは本来インストーラー版特有の場所に設置されるものを、バージョンフォルダの中に突っ込んでも読み込まれていたらしい。
　
つまり、知らないうちにインストーラー版を使いながらも勝手にポータブル化していたという。
恥ずかしい話、インストーラ版は本来この構成で、ポータブル版への切り替えという仕様がある事自体も知りませんでした...。

<div>
<details><summary>ポータブル版とは</summary>
Blenderにはインストーラー(Installer)版とポータブル(Portable)版が存在します。<br>
インストーラー版はPC内部にユーザー設定を作って、その導入されたPC限定で運用する形式です。<br>
対して、ポータブル版は設定を含めたほとんどのフォルダを一箇所に留めて、他の環境にコピペしても使えるような状態で運用する形式です。<br>
インストーラー版でも、いくつかの手順を踏むことでポータブル化することができます。<br>
</div>

## じゃあ今回のバージョン以降はどうするの？
正直、configフォルダなどの本来あるべき場所が分かったので、ポータブル化はもう必要ないと言えば必要ないんです。
が、やはり自分が指定したインストール先だけで完結する方がスッキリするので、今回はすでにインストールしてしまった4.2を新しい方法でポータブル化してみることにしました。
　
方法は簡単で、Blender 4.2がインストールされたフォルダ内で"portable"という新規フォルダーを作成するだけです。
```
インストール先:\Blender Foundation\Blender 4.2\portable
```
　
するとあら不思議、起動するだけで中にConfigや、新しいアドオンの管理フォルダが生成されます。
　
その中のconfigフォルダに、今まで使っていたバージョンのものを上書きすると設定を引き継げます。
見つからないアドオンは結局手動で対応することになるみたいです。
extentionsフォルダ内でコピペ等々試行錯誤してみましたが、旧バージョンのアドオンは読み込まれませんでした。
どっちにしろ更新作業は必要でしたし、何が足りていないのか表示されるだけでも助かりますね。

<div>
<img width="800" src="{% asset_path Image3.png %}" title="Image3" class="img-left"/>
</div>

## 補足

正直今回のアップデートで手間が増えた上に、そもそもアドオンの管理も複雑になったので、次回のアップデートからは素直にポータブル版を落として使おうと思います。

## 参考資料
- Blender 4.2 Manual(英)
[Blender’s Directory Layout(外部リンク)](https://docs.blender.org/manual/en/4.2/advanced/blender_directory_layout.html#portable-installation)
- Blender.jp(日)
[ユーザーデータの保存場所とポータブル版への変更(外部リンク)](https://www.blender.jp/install#-6)

## 最後に
色々ありまして数カ月ぶりの更新となりました。
何か突発的なトラブルが起こらない限り、このブログが終了する時が決まったら明言しておこうと決めているので、今後ものんびりマイペースに更新していきたいと思います。
　
閲覧頂きありがとうございました。